---
import ImageCarousel from "@components/ImageCarousel.tsx";
import logo from "@assets/images/logos/dmeyers.webp";
import { Image } from "astro:assets";
import { heroData } from "@data/heroData";

// Convert Astro images to carousel format
const carouselImages = heroData.images.map((item) => ({
  src: item.img.src,
  alt: item.title,
  width: item.img.width,
  height: item.img.height
}));
---

<section class="bg-background relative">
  <!-- Background gradient overlay -->
  <div class="from-primary-muted/20 to-background/80 absolute inset-0 bg-gradient-to-b"></div>

  <div class="relative mx-auto max-w-screen-xl">
    <!-- Hero Header -->
    <div class="border-border border-b">
      <div class="mx-auto px-4 py-16 sm:py-20">
        <div class="flex flex-col items-center gap-8">
          <div class="relative">
            <div
              class="from-primary to-primary-light absolute -inset-1 rounded-full bg-gradient-to-r opacity-75 blur-sm">
            </div>
            <Image
              src={logo}
              alt="D.Meyer's Logo"
              class="border-border relative size-64 rounded-full border-2 object-cover sm:size-72"
              quality={95}
              loading="eager"
              format="webp"
              width={logo.width}
              height={logo.height}
            />
          </div>
          <div class="text-center">
            <h1
              class="from-primary-light to-primary bg-gradient-to-r bg-clip-text text-5xl font-bold tracking-tight text-transparent sm:text-6xl lg:text-7xl">
              {heroData.brandName}
            </h1>
            <p class="text-text-secondary mt-4 text-xl font-medium sm:text-2xl">
              {heroData.brandDescription}
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="grid grid-cols-1 gap-8 px-4 py-12 lg:grid-cols-2 lg:gap-16 lg:px-6 lg:py-16">
      <!-- Left column: Content -->
      <div class="flex flex-col space-y-8">
        <div>
          <p
            class="text-text-secondary text-lg font-normal sm:text-xl"
            set:html={heroData.description}
          />
        </div>

        <div class="flex flex-col gap-4 sm:flex-row sm:items-center">
          {
            heroData.button && (
              <a
                href={heroData.button.href}
                class="bg-primary text-primary-foreground hover:bg-primary-hover focus-visible:ring-ring inline-flex items-center justify-center rounded-lg px-8 py-4 text-center text-lg font-medium transition-colors focus:outline-none focus-visible:ring-2">
                {heroData.button.text}
              </a>
            )
          }
          {
            heroData.learnMore && (
              <a
                href={heroData.learnMore.href}
                class="border-border text-text-secondary hover:border-border-hover hover:text-text-primary focus-visible:ring-ring inline-flex items-center justify-center rounded-lg border px-8 py-4 text-center text-lg font-medium transition-colors focus:outline-none focus-visible:ring-2">
                {heroData.learnMore.text}
              </a>
            )
          }
        </div>
      </div>

      <!-- Right column: Carousel -->
      <div class="relative flex items-start justify-center">
        <div class="relative w-full overflow-hidden rounded-2xl shadow-2xl">
          <div
            class="from-background/50 pointer-events-none absolute inset-0 z-10 bg-gradient-to-t to-transparent">
          </div>
          <ImageCarousel
            client:visible
            images={carouselImages}
            autoplay={true}
            autoplayDelay={5000}
            showControls={true}
            showDots={true}
          />
        </div>
      </div>
    </div>
  </div>
</section>
